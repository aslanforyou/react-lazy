{"version":3,"sources":["components/modalWindow/Loader.js","utils/index.js","components/modalWindow/ModalWindow.js","components/LazyImage/LazyImage.js","components/LazyImage/LazyImageContainer.js","App.js","reportWebVitals.js","index.js"],"names":["Loader","className","stringToHslColor","str","s","l","hash","i","length","charCodeAt","h","Modal","onClose","photo","comments","useState","isLoading","setIsLoading","handleKeyUp","e","keyCode","useEffect","document","addEventListener","removeEventListener","onClick","id","src","large","alt","onLoad","map","comment","style","background","author","text","LazyImage","open","setOpen","imageSrc","setImageSrc","imageRef","setImageRef","isLoaded","setIsLoaded","hasError","setHasError","observer","didCancel","tiny","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","observe","ref","event","onError","ModalWindow","users","LazyContainer","photos","setPhotos","a","axios","get","headers","Authorization","res","data","getPhotos","then","generateComment","words","split","getRandomInt","min","max","Math","ceil","floor","random","push","rootElement","getElementById","ReactDOM","render","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.e43819b4.chunk.js","sourcesContent":["import './loader.css';\n\nexport const Loader = () => (\n  <div className=\"container\">\n    <div className=\"lds-roller\">\n      <div />\n      <div />\n      <div />\n    </div>\n  </div>\n);\n","export function stringToHslColor(str, s = 100, l = 80) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  let h = hash % 360;\n  return 'hsl(' + h + ', ' + s + '%, ' + l + '%)';\n}\n","import React, { useState, useEffect } from 'react';\nimport { Loader } from './Loader';\nimport { stringToHslColor } from '../../utils';\nimport './modal.css';\nimport './author.css';\n\nconst Modal = ({ onClose, photo, comments }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const onLoad = () => {\n    setIsLoading(false);\n  };\n\n  const handleKeyUp = e => {\n    if (e.keyCode === 27) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keyup', handleKeyUp);\n    return () => document.removeEventListener('keyup', handleKeyUp);\n  });\n\n  return (\n    <>\n      <div className=\"back\" />\n      <div className=\"modal-back\" onClick={onClose}>\n        <div className=\"modal\" id=\"modal\">\n          <div className=\"content\">\n            {isLoading && <Loader />}\n            <img\n              src={photo.large}\n              alt={photo.large}\n              onLoad={onLoad}\n              className={isLoading ? 'hidden' : ''}\n            />\n          </div>\n          <div className=\"comments\">\n            <h2>Comments:</h2>\n            <div className=\"comments-content\">\n              {!comments.length && <h3>No comments</h3>}\n              {comments.map((comment, i) => (\n                <div className=\"comment\" key={i}>\n                  <div className=\"results\">\n                    <span\n                      className=\"color-circle\"\n                      style={{ background: stringToHslColor(comment.author) }}\n                    >\n                      {comment.author[0]}\n                    </span>\n                  </div>\n                  <div>{comment.text}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\nimport ModalWindow from '../modalWindow/ModalWindow';\n\nconst placeHolder =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP0d/GvBwADLwFjI/tmIwAAAABJRU5ErkJggg==';\n\nexport const LazyImage = ({ src, alt, comment }) => {\n  const [open, setOpen] = useState(false);\n  const [imageSrc, setImageSrc] = useState(placeHolder);\n  const [imageRef, setImageRef] = useState();\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  const onModalClose = () => {\n    setOpen(false);\n  };\n\n  const onModalOpen = () => {\n    setOpen(true);\n  };\n\n  const onLoad = event => {\n    setIsLoaded(true);\n  };\n\n  const onError = event => {\n    setHasError(true);\n  };\n\n  useEffect(\n    () => {\n      let observer;\n      let didCancel = false;\n\n      if (imageRef && imageSrc !== src.tiny) {\n        if (IntersectionObserver) {\n          observer = new IntersectionObserver(\n            entries => {\n              entries.forEach(entry => {\n                if (!didCancel && (entry.intersectionRatio > 0 || entry.isIntersecting)) {\n                  setImageSrc(src.tiny);\n                  observer.unobserve(imageRef);\n                }\n              });\n            },\n            {\n              threshold: 0.01,\n            },\n          );\n          observer.observe(imageRef);\n        } else {\n          setImageSrc(src.tiny);\n        }\n      }\n      return () => {\n        didCancel = true;\n        if (observer && observer.unobserve) {\n          observer.unobserve(imageRef);\n        }\n      };\n    },\n    [src, imageSrc, imageRef],\n  );\n  return (\n    <>\n      <img\n        src={imageSrc}\n        alt={alt}\n        onClick={onModalOpen}\n        ref={setImageRef}\n        onLoad={onLoad}\n        onError={onError}\n        className={`lazy-image ${isLoaded ? 'loaded' : ''} ${hasError ? 'has-error' : ''}`}\n      />\n      {open && <ModalWindow photo={src} comments={comment} onClose={onModalClose} />}\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { LazyImage } from './LazyImage';\nimport axios from 'axios';\n\nimport './index.css';\n\nconst users = [\n  'Gaudio F Bob',\n  'Hoy Bob',\n  'Loliya Bob',\n  'Bob Bob',\n  'Tameka C Bob',\n  'James M Andre',\n  'Nolan Andre',\n];\n\nfunction LazyContainer() {\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    const getPhotos = async () => {\n      const res = await axios.get('https://api.pexels.com/v1/search?query=nature&per_page=100', {\n        headers: {\n          Authorization: '563492ad6f9170000100000103bafd0a3dfe48508bc5c66b15bacbde',\n        },\n      });\n      setPhotos(res.data.photos);\n    };\n\n    getPhotos().then();\n\n    return () => {\n      setPhotos([]);\n    };\n  }, []);\n\n  const generateComment = () => {\n    const str =\n      'Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi, soluta ea. Atque voluptatem dignissimos deleniti natus quae nisi neque earum, quis laboriosam repellendus ipsa est, hic accusantium corporis dolore quam.';\n    const words = str.split(' ');\n\n    function getRandomInt(min, max) {\n      min = Math.ceil(min);\n      max = Math.floor(max);\n      return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n    function createComment() {\n      return {\n        author: users[Math.floor(Math.random() * users.length)],\n        text: words[getRandomInt(0, words.length)] + ' ' + words[getRandomInt(0, words.length)],\n      };\n    }\n\n    let comment = [];\n    for (let i = 0; i < getRandomInt(0, 10); i++) {\n      comment.push(createComment());\n    }\n\n    return comment;\n  };\n\n  return (\n    <div className=\"grid\">\n      {photos.map(photo => (\n        <LazyImage key={photo.id} src={photo.src} alt=\"placeholder\" comment={generateComment()} />\n      ))}\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(<LazyContainer />, rootElement);\n\nexport default LazyContainer;\n","import React from 'react';\nimport LazyContainer from './components/LazyImage/LazyImageContainer';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <LazyContainer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}