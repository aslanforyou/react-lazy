{"version":3,"sources":["utils/index.js","components/modalWindow/Loader.js","components/modalWindow/ModalWindow.js","components/lazyImage/LazyImage.js","components/lazyImage/index.js","App.js","reportWebVitals.js","index.js"],"names":["stringToHslColor","str","s","l","hash","i","length","charCodeAt","h","Loader","className","Modal","onClose","photo","comments","useState","isLoading","setIsLoading","onClick","id","src","large","alt","onLoad","map","comment","style","background","author","text","placeHolder","Image","styled","img","LazyImage","open","setOpen","imageSrc","setImageSrc","imageRef","setImageRef","useEffect","observer","didCancel","tiny","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","observe","ref","event","target","classList","add","onError","ModalWindow","users","LazyContainer","photos","setPhotos","a","axios","get","headers","Authorization","res","data","getPhotos","generateComment","words","split","getRandomInt","min","max","Math","ceil","floor","random","push","rootElement","document","getElementById","ReactDOM","render","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.7cfce05f.chunk.js","sourcesContent":["export function stringToHslColor(str, s = 100, l = 80) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  let h = hash % 360;\n  return 'hsl(' + h + ', ' + s + '%, ' + l + '%)';\n}\n","import './loader.css';\n\nexport const Loader = () => (\n  <div className=\"container\">\n    <div className=\"lds-roller\">\n      <div />\n      <div />\n      <div />\n    </div>\n  </div>\n);\n","import React, { useState } from 'react';\nimport './modal.css';\nimport './author.css';\nimport { stringToHslColor } from '../../utils';\nimport { Loader } from './Loader';\n\nconst Modal = ({ onClose, photo, comments }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const onLoad = () => {\n    setIsLoading(false);\n  };\n\n  return (\n    <>\n      <div className=\"back\" />\n      <div className=\"modal_back\" onClick={() => onClose()}>\n        <div className=\"modal\" id=\"modal\">\n          <div className=\"content\">\n            <div className={isLoading ? '' : 'hidden'}>\n              <Loader />\n            </div>\n            <img\n              src={photo.large}\n              alt={photo.large}\n              onLoad={onLoad}\n              className={isLoading ? 'hidden' : 'img'}\n            />\n          </div>\n          <div className=\"actions\">\n            <h2>Comments:</h2>\n            <div className=\"comments\">\n              {!comments.length && <h3>No comments</h3>}\n              {comments.map((comment, i) => (\n                <div className=\"comment\" key={i}>\n                  <div className=\"results\">\n                    <span\n                      className=\"color-circle\"\n                      style={{ background: stringToHslColor(comment.author) }}\n                    >\n                      {comment.author[0]}\n                    </span>\n                  </div>\n                  <div>{comment.text}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport ModalWindow from '../modalWindow/ModalWindow';\n\nconst placeHolder =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP0d/GvBwADLwFjI/tmIwAAAABJRU5ErkJggg==';\n\nconst Image = styled.img`\n  display: block;\n  height: auto;\n  width: 100%;\n\n  @keyframes loaded {\n    0% {\n      opacity: 0.1;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  &.loaded:not(.has-error) {\n    animation: loaded 400ms ease-in-out;\n  }\n\n  &.has-error {\n    content: url(${placeHolder});\n  }\n`;\n\nexport const LazyImage = ({ src, alt, comment }) => {\n  const [open, setOpen] = useState(false);\n  const [imageSrc, setImageSrc] = useState(placeHolder);\n  const [imageRef, setImageRef] = useState();\n\n  const onModalClose = () => {\n    setOpen(false);\n  };\n\n  const onModalOpen = () => {\n    setOpen(true);\n  };\n\n  const onLoad = event => {\n    event.target.classList.add('loaded');\n  };\n\n  const onError = event => {\n    event.target.classList.add('has-error');\n  };\n\n  useEffect(\n    () => {\n      let observer;\n      let didCancel = false;\n\n      if (imageRef && imageSrc !== src.tiny) {\n        if (IntersectionObserver) {\n          observer = new IntersectionObserver(\n            entries => {\n              entries.forEach(entry => {\n                if (!didCancel && (entry.intersectionRatio > 0 || entry.isIntersecting)) {\n                  setImageSrc(src.tiny);\n                  observer.unobserve(imageRef);\n                }\n              });\n            },\n            {\n              threshold: 0.01,\n            },\n          );\n          observer.observe(imageRef);\n        } else {\n          setImageSrc(src.tiny);\n        }\n      }\n      return () => {\n        didCancel = true;\n        if (observer && observer.unobserve) {\n          observer.unobserve(imageRef);\n        }\n      };\n    },\n    [src, imageSrc, imageRef],\n  );\n  return (\n    <>\n      <Image\n        src={imageSrc}\n        alt={alt}\n        onClick={onModalOpen}\n        ref={setImageRef}\n        onLoad={onLoad}\n        onError={onError}\n      />\n      {open && <ModalWindow photo={src} comments={comment} onClose={onModalClose} />}\n    </>\n  );\n};\n","import './index.css';\nimport React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { LazyImage } from './LazyImage';\nimport axios from 'axios';\n\nconst users = [\n  'Gaudio F Bob',\n  'Hoy Bob',\n  'Loliya Bob',\n  'Bob Bob',\n  'Tameka C Bob',\n  'James M Andre',\n  'Nolan Andre',\n];\n\nfunction LazyContainer() {\n  const [photos, setPhotos] = useState([]);\n  useEffect(() => {\n    const getPhotos = async () => {\n      const res = await axios.get('https://api.pexels.com/v1/search?query=nature&per_page=100', {\n        headers: {\n          Authorization: '563492ad6f9170000100000103bafd0a3dfe48508bc5c66b15bacbde',\n        },\n      });\n      setPhotos(res.data.photos);\n    };\n    getPhotos();\n    return () => {\n      setPhotos([]);\n    };\n  }, []);\n\n  const generateComment = () => {\n    let str =\n      'Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi, soluta ea. Atque voluptatem dignissimos deleniti natus quae nisi neque earum, quis laboriosam repellendus ipsa est, hic accusantium corporis dolore quam.';\n    let words = str.split(' ');\n\n    function getRandomInt(min, max) {\n      min = Math.ceil(min);\n      max = Math.floor(max);\n      return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n    function createComment() {\n      return {\n        author: users[Math.floor(Math.random() * users.length)],\n        text: words[getRandomInt(0, words.length)] + ' ' + words[getRandomInt(0, words.length)],\n      };\n    }\n\n    let comment = [];\n    for (let i = 0; i < getRandomInt(0, 10); i++) {\n      comment.push(createComment());\n    }\n    return comment;\n  };\n\n  return (\n    <div>\n      <div className=\"Grid\" id={'scrollArea'}>\n        {photos.map(photo => (\n          <LazyImage key={photo.id} src={photo.src} alt=\"placeholder\" comment={generateComment()} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<LazyContainer />, rootElement);\nexport default LazyContainer;\n","import React from 'react';\nimport './App.css';\nimport LazyContainer from './components/lazyImage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <LazyContainer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}